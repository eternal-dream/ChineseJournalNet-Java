(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6943bfd3"],{1276:function(e,s,a){"use strict";var t=a("d784"),i=a("44e7"),r=a("825a"),c=a("1d80"),l=a("4840"),n=a("8aa5"),u=a("50c4"),h=a("14c3"),o=a("9263"),d=a("d039"),p=[].push,v=Math.min,m=4294967295,f=!d((function(){return!RegExp(m,"y")}));t("split",2,(function(e,s,a){var t;return t="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,a){var t=String(c(this)),r=void 0===a?m:a>>>0;if(0===r)return[];if(void 0===e)return[t];if(!i(e))return s.call(t,e,r);var l,n,u,h=[],d=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,f=new RegExp(e.source,d+"g");while(l=o.call(f,t)){if(n=f.lastIndex,n>v&&(h.push(t.slice(v,l.index)),l.length>1&&l.index<t.length&&p.apply(h,l.slice(1)),u=l[0].length,v=n,h.length>=r))break;f.lastIndex===l.index&&f.lastIndex++}return v===t.length?!u&&f.test("")||h.push(""):h.push(t.slice(v)),h.length>r?h.slice(0,r):h}:"0".split(void 0,0).length?function(e,a){return void 0===e&&0===a?[]:s.call(this,e,a)}:s,[function(s,a){var i=c(this),r=void 0==s?void 0:s[e];return void 0!==r?r.call(s,i,a):t.call(String(i),s,a)},function(e,i){var c=a(t,e,this,i,t!==s);if(c.done)return c.value;var o=r(e),d=String(this),p=l(o,RegExp),F=o.unicode,g=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(f?"y":"g"),y=new p(f?o:"^(?:"+o.source+")",g),M=void 0===i?m:i>>>0;if(0===M)return[];if(0===d.length)return null===h(y,d)?[d]:[];var b=0,P=0,L=[];while(P<d.length){y.lastIndex=f?P:0;var q,O=h(y,f?d:d.slice(P));if(null===O||(q=v(u(y.lastIndex+(f?0:P)),d.length))===b)P=n(d,P,F);else{if(L.push(d.slice(b,P)),L.length===M)return L;for(var k=1;k<=O.length-1;k++)if(L.push(O[k]),L.length===M)return L;P=b=q}}return L.push(d.slice(b)),L}]}),!f)},6967:function(e,s,a){e.exports=a.p+"static/img/default_qk.cf6b900d.jpg"},"71e1":function(e,s,a){"use strict";a.r(s);a("4de4"),a("7db0"),a("4160"),a("c975"),a("45fc"),a("a434"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("1276"),a("159b");var t=a("a5d0");s["default"]={name:"JournalGuid",data:function(){return{loadDefaultImg:'this.src="'+a("6967")+'"',loading:!1,classOrMedia:!0,selectOptions:[{value:"MN",label:"刊名"},{value:"ISSN",label:"issn"},{value:"CN",label:"cn"},{value:"PB",label:"主办单位"},{value:"ED",label:"主编"},{value:"PS",label:"邮发代号"}],queryParams:{pageNum:1,pageSize:20,searchModels:[],sortField:"zkbycount",isAsc:!1},commonSearchParams:{searchField:"MN",value:void 0,logicOperator:"AND",displayName:void 0,exact:!1},theLetters:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],providerFacets:{value:[],limit:5,showAll:!1},providerFacetsList:[],outsideFacets:{value:[],limit:5,showAll:!1},outsideFacetsList:[],areaFacets:{value:[],limit:5,showAll:!1},areaFacetsList:[],subjectFacets:{value:[],limit:5,showAll:!1},subjectFacetsList:[],classTypeFacets:{value:[],limit:5,showAll:!1},classTypeFacetsList:[],total:0,mediaList:[],coverOrTable:!0,rowsList:[0,1,2,3]}},methods:{getMediaFacetMethod:function(e){var s=this;this.loading=!0,Object(t["a"])(e).then((function(e){e.success&&(s.providerFacets.value=s.setIsOpenChild(e.cMap,s.providerFacetsList),s.outsideFacets.value=s.setIsOpenChild(e.oMap,s.outsideFacetsList),s.areaFacets.value=s.setIsOpenChild(e.areaFacet,s.areaFacetsList),s.subjectFacets.value=s.setIsOpenChild(e.subjectFacet,s.subjectFacetsList),s.classTypeFacets.value=s.setIsOpenChild(e.classFacet,s.classTypeFacetsList),s.loading=!1)})).catch((function(e){s.loading=!1}))},getMediaPageMethod:function(e){var s=this;this.loading=!0,Object(t["b"])(e).then((function(e){s.loading=!1,e.success&&(s.total=e.pageBean.total,s.mediaList=e.pageBean.rows,s.queryParams.pageNum=e.pageBean.page)})).catch((function(e){s.loading=!1}))},handleCurrentChange:function(e){this.queryParams.pageNum=e,this.getMediaPageMethod(this.queryParams)},handleSizeChange:function(e){this.queryParams.pageSize=e,this.getMediaPageMethod(this.queryParams)},changeSort:function(e){this.queryParams.sortField=e,this.queryParams.pageNum=1,this.getMediaPageMethod(this.queryParams)},submitSearch:function(){var e=this.queryParams,s=this.commonSearchParams;s.value&&(e.searchModels=[],e.searchModels.push(s)),this.classOrMedia=!1,this.getMediaFacetMethod(e),this.getMediaPageMethod(e)},formatNumber:function(e){return e?e.toString().replace(/\d+/,(function(e){return e.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")})):0},initFacet:function(){this.commonSearchParams.value=this.$route.query.keyword||void 0;var e=this.queryParams;this.commonSearchParams.value&&(e.searchModels.push(this.commonSearchParams),this.classOrMedia=!1,this.coverOrTable=!1),this.getMediaFacetMethod(e),this.getMediaPageMethod(e)},setIsOpenChild:function(e,s){var a=this;return e.forEach((function(e){e.children&&e.children.length>0&&(a.$set(e,"isOpen",!1),e.children.forEach((function(e){s.find((function(s){return s.value===e.key}))&&a.$set(e,"show",!1)}))),s.find((function(s){return s.value===e.key}))&&a.$set(e,"show",!1)})),e},changeAreaChildShow:function(e){var s=e.isOpen;this.areaFacets.showAll=!s,e.isOpen=!e.isOpen},changeClassTypeChildShow:function(e){var s=e.isOpen;this.classTypeFacets.showAll=!s,e.isOpen=!e.isOpen},splitClassName:function(e){if(-1!=e.indexOf("—"))return e.split("—")[1]},clickFacetItem:function(e,s,a){var t={searchField:void 0,value:void 0,logicOperator:"AND",displayName:void 0,exact:!0};switch(s){case"P":t.searchField="LNG",t.value=e.key,t.displayName=e.label,this.providerFacetsList.some((function(s){return s.value===e.key}))||this.providerFacetsList.push(t),this.queryParams.searchModels.some((function(s){return s.value===e.key&&"LNG"===s.searchField}))||this.queryParams.searchModels.push(t);break;case"O":t.searchField="LNG",t.value=e.key,t.displayName=e.label,this.outsideFacetsList.some((function(s){return s.value===e.key}))||this.outsideFacetsList.push(t),this.queryParams.searchModels.some((function(s){return s.value===e.key&&"LNG"===s.searchField}))||this.queryParams.searchModels.push(t);break;case"S":t.searchField="SUB",t.value=e.key,t.displayName=e.label,this.subjectFacetsList.some((function(s){return s.value===e.key}))||this.subjectFacetsList.push(t),this.queryParams.searchModels.some((function(s){return s.value===e.key&&"SUB"===s.searchField}))||this.queryParams.searchModels.push(t);break;case"A":t.searchField="AREA",t.value=e.key,t.displayName=e.label,t.exact=!0,this.areaFacetsList.some((function(s){return s.value===e.key}))||this.areaFacetsList.push(t),this.queryParams.searchModels.some((function(s){return s.value===e.key&&"AREA"===s.searchField}))||this.queryParams.searchModels.push(t);break;case"C":t.searchField="CL",t.value=e.key,t.displayName=e.label,this.classTypeFacetsList.some((function(s){return s.value===e.key}))||this.classTypeFacetsList.push(t),this.queryParams.searchModels.some((function(s){return s.value===e.key&&"CL"===s.searchField}))||this.queryParams.searchModels.push(t);break}!1===a&&(this.classOrMedia=!1),this.queryParams.pageNum=1,this.searchWithoutButton()},removeFacet:function(e,s){var a=this;switch(s){case"P":this.providerFacetsList=this.providerFacetsList.filter((function(s){return s.value!==e.value})),this.queryParams.searchModels.some((function(s,t){"LNG"===s.searchField&&s.value===e.value&&a.queryParams.searchModels.splice(t,1)}));break;case"O":this.outsideFacetsList=this.outsideFacetsList.filter((function(s){return s.value!==e.value})),this.queryParams.searchModels.some((function(s,t){"LNG"===s.searchField&&s.value===e.value&&a.queryParams.searchModels.splice(t,1)}));break;case"S":this.subjectFacetsList=this.subjectFacetsList.filter((function(s){return s.value!==e.value})),this.queryParams.searchModels.some((function(s,t){"SUB"===s.searchField&&s.value===e.value&&a.queryParams.searchModels.splice(t,1)}));break;case"A":this.areaFacetsList=this.areaFacetsList.filter((function(s){return s.value!==e.value})),this.queryParams.searchModels.some((function(s,t){"AREA"===s.searchField&&s.value===e.value&&a.queryParams.searchModels.splice(t,1)}));break;case"C":this.classTypeFacetsList=this.classTypeFacetsList.filter((function(s){return s.value!==e.value})),this.queryParams.searchModels.some((function(s,t){"CL"===s.searchField&&s.value===e.value&&a.queryParams.searchModels.splice(t,1)}));break}this.queryParams.pageNum=1,this.searchWithoutButton()},clickTheLetter:function(e){var s={searchField:void 0,value:void 0,logicOperator:"AND",displayName:void 0,exact:!1};s.searchField="FN",s.value=e;var a=this.queryParams.searchModels.find((function(e){return"FN"===e.searchField}));a?a.value=e:this.queryParams.searchModels.some((function(s){return s.value===e}))||this.queryParams.searchModels.push(s),this.classOrMedia=!1,this.getMediaPageMethod(this.queryParams),this.getMediaFacetMethod(this.queryParams)},searchWithoutButton:function(){var e=this.queryParams;e.searchModels.searchModels&&e.searchModels.length>0&&(e.searchModels[0].logicOperator=void 0),this.getMediaFacetMethod(e),this.getMediaPageMethod(e)},buildImgUrl:function(e){return"http://image1.cqvip.com//vip1000/qkclearimg/"+e.toLowerCase()+"/"+e.toLowerCase()+".jpg?site=d68adea8566ee0bb33fc319fa2279e77"},buildProvider:function(e){var s=[];if(e){var a=e.split(";");"核心刊"==a[0]&&(-1!=e.indexOf("BDHX")&&s.push("北大核心"),-1!=e.indexOf("CSSCI")&&s.push("CSSCI"),-1!=e.indexOf("CSCD")&&s.push("CSCD"))}return s},toMediaDetail:function(e){var s=this.$router.resolve({name:"JournalsIndex",query:{gch5:e}}),a=s.href;window.open(a,"_blank")}},created:function(){this.initFacet()},watch:{providerFacets:{deep:!0,handler:function(e){e.showAll?this.providerFacets.limit=this.providerFacets.value.length:this.providerFacets.limit=5}},outsideFacets:{deep:!0,handler:function(e){e.showAll?this.outsideFacets.limit=this.outsideFacets.value.length:this.outsideFacets.limit=5}},subjectFacets:{deep:!0,handler:function(e){e.showAll?this.subjectFacets.limit=this.subjectFacets.value.length:this.subjectFacets.limit=5}},areaFacets:{deep:!0,handler:function(e){e.showAll?this.areaFacets.limit=this.areaFacets.value.length:this.areaFacets.limit=5}},classTypeFacets:{deep:!0,handler:function(e){e.showAll?this.classTypeFacets.limit=this.classTypeFacets.value.length:this.classTypeFacets.limit=5}}}}},a5d0:function(e,s,a){"use strict";a.d(s,"a",(function(){return c})),a.d(s,"b",(function(){return l}));var t=a("39f3"),i=a("22ce"),r=t["a"]+"media/";function c(e){return Object(i["axiosRequest"])(r+"getMediaFacet",e,Object(i["axiosOptions"])(null,i["commonContentType"].json))}function l(e){return Object(i["axiosRequest"])(r+"getMediaPage",e,Object(i["axiosOptions"])(null,i["commonContentType"].json))}}}]);