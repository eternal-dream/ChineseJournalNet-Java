(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ac5ad"],{"18d4":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-dialog",{attrs:{title:t.title,visible:t.visible,width:"70%","before-close":t.close,"close-on-click-modal":!1,inline:!0},on:{"update:visible":function(e){t.visible=e}}},[s("el-form",{ref:"userIpForm",attrs:{model:t.user}},[s("el-form-item",{attrs:{label:"用户名",prop:"userName","label-width":"100px"}},[s("el-input",{attrs:{disabled:"",value:t.user.userName}})],1),s("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"5px"}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("用户IP信息>>")]),s("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(e){return t.addIp()}}},[t._v("新增IP")])],1),s("el-form-item",{attrs:{label:"",prop:"userIpInfos"}},[s("el-col",{attrs:{span:5}},[t._v("开始IP:")]),s("el-col",{attrs:{span:5}},[t._v("结束IP:")]),s("el-col",{attrs:{span:6}},[t._v("IP绑定单位:")]),s("el-col",{attrs:{span:6}},[t._v("IP备注:")]),t._l(t.user.userIpInfos,(function(e,r){return s("el-row",{key:r,staticStyle:{"margin-bottom":"5px"},attrs:{gutter:5}},[s("el-col",{attrs:{span:5}},[s("el-input",{attrs:{placeholder:"请输入开始IP"},model:{value:e.startIp,callback:function(s){t.$set(e,"startIp",s)},expression:"item.startIp"}})],1),s("el-col",{attrs:{span:5}},[s("el-input",{attrs:{placeholder:"请输入结束IP"},model:{value:e.finishIp,callback:function(s){t.$set(e,"finishIp",s)},expression:"item.finishIp"}})],1),s("el-col",{attrs:{span:6}},[s("el-input",{attrs:{placeholder:"请输入IP绑定单位"},model:{value:e.unit,callback:function(s){t.$set(e,"unit",s)},expression:"item.unit"}})],1),s("el-col",{attrs:{span:6}},[s("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.remark,callback:function(s){t.$set(e,"remark",s)},expression:"item.remark"}})],1),s("el-col",{attrs:{span:2}},[s("el-button",{on:{click:function(e){return t.removeIp(r)}}},[s("d2-icon",{attrs:{name:"minus"}})],1)],1)],1)}))],2)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.close}},[t._v("取 消")]),s("el-button",{attrs:{"el-button":"",type:"primary"},on:{click:t.submit}},[t._v("确定")])],1)],1)],1)},i=[],a=(s("4160"),s("a434"),s("159b"),s("bc3a")),n=s.n(a),o={components:{},data:function(){return{visible:!1,title:"",user:{}}},created:function(){},methods:{show:function(t){this.user=JSON.parse(JSON.stringify(t)),t&&t.id?(this.title="编辑用户组",this.getUserIpInfo()):this.title="新增用户组",this.user.userIpInfos||(this.user.userIpInfos=[]),this.visible=!0},getUserIpInfo:function(){var t=this;this.$axiosRequest("system/userIpInfo/getUserIpInfo",{userId:this.user.id},this.$axiosOptions("get")).then((function(e){t.user.userIpInfos=e.userIpInfos}))},close:function(){this.$refs.userIpForm.resetFields(),this.visible=!1},removeIp:function(t){this.user.userIpInfos.splice(t,1)},addIp:function(){this.user.userIpInfos.push({})},submit:function(){var t=this,e=!0;this.user.userIpInfos.forEach((function(s,r){var i=/^((25[0-5]|2[0-4]\d|1\d\d|[0-9]\d|[0]\d{2}|[0]{2}\d|\d|0\d)\.){3}(25[0-5]|2[0-4]\d|1\d\d|[0-9]\d|[1-9]|[0]\d{2}|[0]{2}\d)$/;if(!i.test(s.startIp))return t.$message.error("第"+(r+1)+"条起始IP不正确,请检查!"),void(e=!1);i.test(s.finishIp)||(t.$message.error("第"+(r+1)+"条结束IP不正确,请检查!"),e=!1)})),e&&this.$refs.userIpForm.validate((function(e){e&&n()({method:"post",url:"system/userIpInfo/addOrModify",data:t.user}).then((function(e){e.data.success?(t.$message.success("操作成功!"),t.visible=!1,t.close(),t.$emit("callback")):t.$message.error(e.data.msg)}))}))}}},l=o,u=s("2877"),c=Object(u["a"])(l,r,i,!1,null,null,null);e["default"]=c.exports}}]);