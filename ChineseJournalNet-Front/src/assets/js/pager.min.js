layui.use(["form"],function(){function t(t,i,r){var u=getSearchParamModel(),e=n("#searchType").val(),f,o;e=="advance"?(f="",r.parents().each(function(){if(n(this).data("guid")!=undefined&&n(this).data("guid")!="")return f=n(this).data("guid"),!1}),o=n("div[data-guid="+f+"]").find("input[name=searchParamModelJson]").val(),u=JSON.parse(o),u.PageNum=t,u.PageSize=i,advSearch(u,f)):e=="normal"&&(u.PageNum=t,u.PageSize=i,search(u))}var r=layui.form,n=layui.$,i=layui.layer;n(document).on("click","#headerpager a",function(){var i=n("#selectPageSize .active").data("count"),r;if(i==null||i==undefined||i==""){r=getSearchParamModel();switch(r.ObjectType){case 1:n.cookie("LIBUSERSETARTICLEPAGESIZECOOKIE")!=null&&n.cookie("LIBUSERSETARTICLEPAGESIZECOOKIE")!=undefined&&n.cookie("LIBUSERSETARTICLEPAGESIZECOOKIE")!=""&&(i=n.cookie("LIBUSERSETARTICLEPAGESIZECOOKIE"));break;case 7:n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE")!=null&&n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE")!=undefined&&n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE")!=""&&(i=n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE"));break;case 3:n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE")!=null&&n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE")!=undefined&&n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE")!=""&&(i=n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE"));break;case 6:n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE")!=null&&n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE")!=undefined&&n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE")!=""&&(i=n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE"));break;default:n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE")!=null&&n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE")!=undefined&&n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE")!=""&&(i=n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE"))}}(i==null||i==undefined||i=="")&&(i=20);t(n(this).data("page"),i,n(this))});n(document).on("click","#selectPageSize a",function(){var i=n(this).data("count"),r=getSearchParamModel();switch(r.ObjectType){case 1:n.cookie("LIBUSERSETARTICLEPAGESIZECOOKIE",i,{expires:1,path:"/"});break;case 7:n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE",i,{expires:1,path:"/"});break;case 3:n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE",i,{expires:1,path:"/"});break;case 6:n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE",i,{expires:1,path:"/"});break;default:n.cookie("LIBUSERSETJOURNALPAGESIZECOOKIE",i,{expires:1,path:"/"})}t(1,i,n(this))});n(document).on("click","#footerpager a",function(){var i=n("#selectPageSize .active").data("count");t(n(this).data("page"),i,n(this))});n(document).on("click","#footerpager .layui-laypage-btn",function(){var f=n("#selectPageSize .active").data("count"),e=n("#searchType").val(),u,r;if(e=="advance"){if(u="",n(this).parents().each(function(){if(n(this).data("guid")!=undefined&&n(this).data("guid")!="")return u=n(this).data("guid"),!1}),r=n("div[data-guid="+u+"]").find("#footerpager .layui-input").val(),r<0||r==""){i.msg("跳转失败");return}t(r,f,n(this))}else{if(r=n("#footerpager .layui-input").val(),r<0||r==""){i.msg("跳转失败");return}t(r,f,n(this))}})});